
<!doctype html>
<html>
<head>
<meta charset ='UTF-8'>
<title>Garp garp</title>
<script src="scripts/listObjects.js"></script>
<script src="scripts/garpgarp.js"></script>
<script src="scripts/menu.js"></script>
<script src="scripts/next.js"></script>
<script src="scripts/over.js"></script>
<style>
canvas{
	display: block;
	margin: 10px auto;
	background:lightblue;
}

</style>
</head>
<body>
<!--onload ="recursive(1)"-->

	<canvas id="myCanvas" width="600" height="600">

</body>
<script>
   var currentState = undefined;
   document.addEventListener( 'DOMContentLoaded', controlState('start'));
	// adding level to control
   var level = 1;



    //------------------------------------------------------------------------------------------------sorting out global key presses why do i even do this?

	function controlState(gameState){
		switch (gameState){
			case 'start':
				currentState = 'menu';
				Menu.start();
				break;
			case 'play':
				currentState ='game';

			window.addEventListener('keydown', function(event){
				var changeInTime = 1;
					var velocity = 0;
					var changeInPosition = 15;
					var acceleration = 0;
					//-- changing gavity
					Game.gravity = 0;
				if(event.keyCode == 32|| event.keyCode == 38){
					// velocity = change in position over time
					// acceleration = changeinspeed/time
					changeInTime++;
					acceleration += 6;
					if(Player.y > 0){
						// change in time increase at frame rate held down
						
						//velocity = changeInPosition/changeInTime;
						Player.y -= acceleration;
					}
				}
			},true);
			window.addEventListener('keydown', function(event){
				if(event.keyCode == 40){
					
					if(Player.y > 0){
						Player.y += 10;
					}
				}
			},true);

			window.addEventListener('keyup', function(event){
				if(event.keyCode == 32 || event.keyCode == 38 || event.keyCode == 40){
					Game.gravity = 2;
					Player.y = Player.y;
				}
			},true);
				Game.start();
				break;
			case 'next':
				tempTimer = 0;
				currentState ='next';
				Next.start();
				break;
			case 'over':
				currentState ='over';
				Over.start();
				break;
			default:
				console.log('state not recognised');
		}

	}


   

	// swithc statement to control the state of the application */
</script>
</html>